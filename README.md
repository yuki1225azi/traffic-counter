スマート交通量カウンター 取扱説明書
1. 概要
本アプリケーションは、お使いのデバイスのカメラを使用し、AI（人工知能）がリアルタイムで人や車両を自動的に検出し、その交通量を記録・集計するツールです。特別な機器は不要で、ブラウザだけで交通量調査を行えます。

2. 主な機能
リアルタイム交通量カウント: カメラ映像に映る乗用車、バス、トラック、バイク、自転車、歩行者を自動で識別し、時間帯ごとの交通量を画面に表示します。

測定方法の選択: すぐに測定を開始する「即時測定」と、指定した時間に自動で開始・終了する「予約測定」の2つのモードがあります。

データ記録と出力: 測定中の交通量データは1秒ごとに記録され、詳細なログとして画面で確認できます。また、すべての記録データはCSVファイルとしてエクスポートでき、Excelなどでさらに詳細な分析が可能です。

詳細な設定: AIの検出感度やパフォーマンスに関わる各種パラメータを、利用者の環境や目的に応じて柔軟に調整できます。

3. 各画面の説明
メイン画面（左側）
① 映像表示エリア: カメラが現在捉えているライブ映像が表示されます。測定中は、AIが検出した物体に四角い枠（バウンディングボックス）とラベルが表示されます。

② 時間帯別交通量: 現在の時間帯（例: 11時台）にカウントされた各対象物の合計数がリアルタイムで更新されます。

操作パネル（右側）
③ 測定モード選択タブ: 「即時測定」と「予約測定」を切り替えます。

即時測定: 「開始」ボタンを押すと、すぐに測定が始まります。測定中はボタンが「終了」に変わり、いつでも手動で停止できます。

予約測定: 「開始日時」と「終了日時」を指定し、「予約」ボタンを押すことで、指定した時間に測定を自動で開始・終了させることができます。

④ 設定パネル: アプリケーションの動作を詳細に設定できます。

スコア閾値: AIが物体を検出する際の「確信度」の最低ラインを調整します。

IoU閾値: 物体を追跡する際の精度を調整します。

検出FPS上限: 1秒あたりの検出回数を設定し、精度とパフォーマンスのバランスを取ります。

確定必要フレーム: 誤検出を防ぐため、物体を何回連続で検出したら正式にカウントするかを設定します。

見失い許容量: 一度見失った物体をどれくらいの時間まで追いかけ続けるかを設定します。

描画ON/OFF: 映像上の枠やラベルの表示方法を変更します。

⑤ 測定ログパネル:

緯度・経度: 測定を開始した地点の位置情報が表示されます。

ログテーブル: 1秒ごとに記録された交通量の詳細な生データが表示されます。

4. 基本的な使い方
起動と許可:

index.html ファイルをブラウザで開きます。

初回起動時に、ブラウザからカメラと位置情報の使用許可を求めるポップアップが表示されますので、「許可」を選択してください。

画面上部に「モデル読み込み中..」というプログレスバーが表示され、100%になると準備完了です。

測定の開始:

すぐに始める場合: 「即時測定」タブが開いていることを確認し、「開始」ボタンを押します。

予約する場合: 「予約測定」タブに切り替え、開始・終了したい日時を入力してから「予約」ボタンを押します。

測定中の確認:

画面左側の映像で、AIが正しく物体を検出しているかを確認できます。

時間帯別交通量の数値が増えていくのを確認します。

画面右下の測定ログに、1秒ごとにデータが追加されていくのを確認します。

測定の終了とデータ出力:

即時測定の場合: 「終了」ボタンを押すと測定が停止します。

予約測定の場合: 設定した終了時刻になると自動で停止します。

測定が終了すると、記録された全データを含むCSVファイルが自動的にダウンロードされます。ファイル名は traffic_counter_測定開始日時.csv となります。
